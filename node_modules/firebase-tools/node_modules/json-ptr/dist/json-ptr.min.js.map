{"version":3,"file":"json-ptr.min.js","mappings":"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","sources":["webpack://JsonPointer/webpack/universalModuleDefinition","webpack://JsonPointer/webpack/bootstrap","webpack://JsonPointer/webpack/runtime/define property getters","webpack://JsonPointer/webpack/runtime/hasOwnProperty shorthand","webpack://JsonPointer/webpack/runtime/make namespace object","webpack://JsonPointer/./src/util.ts","webpack://JsonPointer/./src/pointer.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"JsonPointer\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"JsonPointer\"] = factory();\n\telse\n\t\troot[\"JsonPointer\"] = factory();\n})(self, function() {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {\n  JsonStringPointer,\n  UriFragmentIdentifierPointer,\n  Pointer,\n  RelativeJsonPointer,\n  PathSegment,\n  PathSegments,\n  Decoder,\n} from './types';\n\nexport function replace(source: string, find: string, repl: string): string {\n  let res = '';\n  let rem = source;\n  let beg = 0;\n  let end = -1;\n  while ((end = rem.indexOf(find)) > -1) {\n    res += source.substring(beg, beg + end) + repl;\n    rem = rem.substring(end + find.length, rem.length);\n    beg += end + find.length;\n  }\n  if (rem.length > 0) {\n    res += source.substring(source.length - rem.length, source.length);\n  }\n  return res;\n}\n\nexport function decodeFragmentSegments(segments: PathSegments): PathSegments {\n  let i = -1;\n  const len = segments.length;\n  const res = new Array(len);\n  while (++i < len) {\n    if (typeof segments[i] === 'string') {\n      res[i] = replace(\n        replace(decodeURIComponent(segments[i] as string), '~1', '/'),\n        '~0',\n        '~',\n      );\n    } else {\n      res[i] = segments[i];\n    }\n  }\n  return res;\n}\n\nexport function encodeFragmentSegments(segments: PathSegments): PathSegments {\n  let i = -1;\n  const len = segments.length;\n  const res = new Array(len);\n  while (++i < len) {\n    if (typeof segments[i] === 'string') {\n      res[i] = encodeURIComponent(\n        replace(replace(segments[i] as string, '~', '~0'), '/', '~1'),\n      );\n    } else {\n      res[i] = segments[i];\n    }\n  }\n  return res;\n}\n\nexport function decodePointerSegments(segments: PathSegments): PathSegments {\n  let i = -1;\n  const len = segments.length;\n  const res = new Array(len);\n  while (++i < len) {\n    if (typeof segments[i] === 'string') {\n      res[i] = replace(replace(segments[i] as string, '~1', '/'), '~0', '~');\n    } else {\n      res[i] = segments[i];\n    }\n  }\n  return res;\n}\n\nexport function encodePointerSegments(segments: PathSegments): PathSegments {\n  let i = -1;\n  const len = segments.length;\n  const res = new Array(len);\n  while (++i < len) {\n    if (typeof segments[i] === 'string') {\n      res[i] = replace(replace(segments[i] as string, '~', '~0'), '/', '~1');\n    } else {\n      res[i] = segments[i];\n    }\n  }\n  return res;\n}\n\nexport function decodePointer(ptr: Pointer): PathSegments {\n  if (typeof ptr !== 'string') {\n    throw new TypeError(\n      'Invalid type: JSON Pointers are represented as strings.',\n    );\n  }\n  if (ptr.length === 0) {\n    return [];\n  }\n  if (ptr[0] !== '/') {\n    throw new ReferenceError(\n      'Invalid JSON Pointer syntax. Non-empty pointer must begin with a solidus `/`.',\n    );\n  }\n  return decodePointerSegments(ptr.substring(1).split('/'));\n}\n\nexport function encodePointer(path: PathSegments): JsonStringPointer {\n  if (!path || (path && !Array.isArray(path))) {\n    throw new TypeError('Invalid type: path must be an array of segments.');\n  }\n  if (path.length === 0) {\n    return '';\n  }\n  return '/'.concat(encodePointerSegments(path).join('/'));\n}\n\nexport function decodeUriFragmentIdentifier(\n  ptr: UriFragmentIdentifierPointer,\n): PathSegments {\n  if (typeof ptr !== 'string') {\n    throw new TypeError(\n      'Invalid type: JSON Pointers are represented as strings.',\n    );\n  }\n  if (ptr.length === 0 || ptr[0] !== '#') {\n    throw new ReferenceError(\n      'Invalid JSON Pointer syntax; URI fragment identifiers must begin with a hash.',\n    );\n  }\n  if (ptr.length === 1) {\n    return [];\n  }\n  if (ptr[1] !== '/') {\n    throw new ReferenceError('Invalid JSON Pointer syntax.');\n  }\n  return decodeFragmentSegments(ptr.substring(2).split('/'));\n}\n\nexport function encodeUriFragmentIdentifier(\n  path: PathSegments,\n): UriFragmentIdentifierPointer {\n  if (!path || (path && !Array.isArray(path))) {\n    throw new TypeError('Invalid type: path must be an array of segments.');\n  }\n  if (path.length === 0) {\n    return '#';\n  }\n  return '#/'.concat(encodeFragmentSegments(path).join('/'));\n}\n\nconst InvalidRelativePointerError =\n  'Invalid Relative JSON Pointer syntax. Relative pointer must begin with a non-negative integer, followed by either the number sign (#), or a JSON Pointer.';\n\nexport function decodeRelativePointer(ptr: RelativeJsonPointer): PathSegments {\n  if (typeof ptr !== 'string') {\n    throw new TypeError(\n      'Invalid type: Relative JSON Pointers are represented as strings.',\n    );\n  }\n  if (ptr.length === 0) {\n    // https://tools.ietf.org/id/draft-handrews-relative-json-pointer-00.html#rfc.section.3\n    throw new ReferenceError(InvalidRelativePointerError);\n  }\n  const segments = ptr.split('/');\n  let first = segments[0];\n  // It is a name reference; strip the hash.\n  if (first[first.length - 1] == '#') {\n    if (segments.length > 1) {\n      throw new ReferenceError(InvalidRelativePointerError);\n    }\n    first = first.substr(0, first.length - 1);\n  }\n  let i = -1;\n  const len = first.length;\n  while (++i < len) {\n    if (first[i] < '0' || first[i] > '9') {\n      throw new ReferenceError(InvalidRelativePointerError);\n    }\n  }\n  const path: unknown[] = decodePointerSegments(segments.slice(1));\n  path.unshift(segments[0]);\n  return path as PathSegments;\n}\n\nexport function toArrayIndexReference(\n  arr: readonly unknown[],\n  idx: PathSegment,\n): number {\n  if (typeof idx === 'number') return idx;\n  const len = idx.length;\n  if (!len) return -1;\n  let cursor = 0;\n  if (len === 1 && idx[0] === '-') {\n    if (!Array.isArray(arr)) {\n      return 0;\n    }\n    return arr.length;\n  }\n  while (++cursor < len) {\n    if (idx[cursor] < '0' || idx[cursor] > '9') {\n      return -1;\n    }\n  }\n  return parseInt(idx, 10);\n}\n\nexport type Dereference = (it: unknown) => unknown;\n\nexport function compilePointerDereference(path: PathSegments): Dereference {\n  let body = \"if (typeof(it) !== 'undefined'\";\n  if (path.length === 0) {\n    return (it): unknown => it;\n  }\n  body = path.reduce((body, _, i